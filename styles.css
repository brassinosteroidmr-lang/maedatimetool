* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans JP', 'Hiragino Sans', 'Hiragino Kaku Gothic ProN', 'Yu Gothic', 'Meiryo', sans-serif;
    background: #1a1a1a;
    min-height: 100vh;
    padding: 20px;
    color: #e8e8e8;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

.container {
    max-width: 1800px;
    margin: 0 auto;
}

/* ヘッダー */
.header {
    background: #2a2a2a;
    border-bottom: 1px solid #3a3a3a;
    padding: 15px 30px;
    margin-bottom: 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.header h1 {
    font-size: 20px;
    color: #d0d0d0;
    font-weight: 500;
    letter-spacing: 3px;
}

.date {
    font-size: 15px;
    color: #a0a0a0;
    font-weight: 400;
}

/* メインコンテンツ */
.main-content {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.top-section {
    width: 100%;
}

.middle-section {
    width: 100%;
}

.bottom-section {
    width: 100%;
}

/* 共通セクションスタイル */
.news-section, .calendar-section, .tools-section, .clock-section, .time-record-section, .unified-work-section, .template-section {
    background: #2a2a2a;
    border: 1px solid #3a3a3a;
    padding: 20px;
    margin-bottom: 20px;
}

/* 左側: 時計と砂時計エリア */
.time-display-area {
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: stretch;
}

/* 時計と日付の上部エリア */
.clock-info-area {
    display: flex;
    flex-direction: column;
    margin-bottom: 15px;
}

.clock-and-settings {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 15px;
    margin-bottom: 5px;
}

/* 砂時計を並べるエリア */
.hourglasses-container {
    display: flex;
    gap: 8px;
    justify-content: center;
}

/* 全設定管理ボタン */
.settings-management {
    display: flex;
    gap: 6px;
    align-items: center;
}

/* 勤務時間砂時計ラッパー */
.work-hourglass-wrapper {
    display: flex;
    flex-direction: column;
    align-items: center;
}

/* カウントダウンタイマーラッパー */
.timer-section {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-end;
}

/* 右側: 業務記録エリア */
.business-record-area {
    width: 100%;
}

.news-section h2, .calendar-section h2, .tools-section h2, .time-record-section h2 {
    font-size: 15px;
    color: #b8b8b8;
    font-weight: 500;
    letter-spacing: 1.5px;
    text-transform: uppercase;
}

.news-section h2, .tools-section h2 {
    margin-bottom: 15px;
    border-bottom: 1px solid #3a3a3a;
    padding-bottom: 10px;
}

.calendar-section h2 {
    margin-bottom: 0;
}

.record-header {
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin-bottom: 12px;
    padding-bottom: 8px;
    border-bottom: 1px solid #3a3a3a;
}

.record-header h2 {
    margin: 0;
    font-size: 13px;
}

.dashboard-link {
    padding: 4px 10px;
    background: #3a4a3a;
    color: #c8d8c8;
    border: 1px solid #4a5a4a;
    text-decoration: none;
    font-size: 11px;
    font-weight: 500;
    transition: all 0.3s;
    white-space: nowrap;
}

.dashboard-link:hover {
    background: #4a5a4a;
    color: #d8e8d8;
    border-color: #5a6a5a;
}

.record-header .record-actions {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 4px;
    width: 100%;
}

.export-btn, .import-btn, .clear-btn, .export-all-btn, .import-all-btn {
    padding: 3px 6px;
    background: #3a3a3a;
    color: #c8c8c8;
    border: 1px solid #4a4a4a;
    cursor: pointer;
    font-size: 9px;
    font-weight: 500;
    transition: all 0.3s;
    white-space: nowrap;
}

.export-btn:hover, .import-btn:hover {
    background: #4a4a4a;
    color: #e0e0e0;
}

.export-all-btn {
    background: #3a4a3a;
    border-color: #4a5a4a;
    font-weight: 600;
    padding: 5px 10px;
    font-size: 11px;
    border-radius: 4px;
}

.export-all-btn:hover {
    background: #4a5a4a;
    color: #d0f0d0;
}

.import-all-btn {
    background: #3a3a4a;
    border-color: #4a4a5a;
    font-weight: 600;
    padding: 5px 10px;
    font-size: 11px;
    border-radius: 4px;
}

.import-all-btn:hover {
    background: #4a4a5a;
    color: #d0d0f0;
}

.clear-btn {
    background: #4a3a3a;
    border-color: #5a4a4a;
}

.clear-btn:hover {
    background: #5a4a4a;
    color: #f0c0c0;
}

/* ニュースコンテナ */
.news-container {
    max-height: 400px;
    overflow-y: auto;
}

.news-item {
    padding: 12px 0;
    border-bottom: 1px solid #3a3a3a;
    transition: background 0.3s;
}

.news-item:hover {
    background: #333;
}

.news-item h3 {
    font-size: 15px;
    margin-bottom: 6px;
    color: #d8d8d8;
    font-weight: 500;
    line-height: 1.5;
}

.news-item p {
    font-size: 13px;
    color: #a0a0a0;
    margin-bottom: 5px;
    line-height: 1.6;
}

.news-item a {
    color: #b0b0b0;
    text-decoration: none;
    font-size: 13px;
}

.news-item a:hover {
    color: #d0d0d0;
}

.news-time {
    font-size: 12px;
    color: #808080;
}

.loading {
    text-align: center;
    color: #606060;
    padding: 20px;
}

/* タブ */
.gov-tabs {
    display: flex;
    gap: 8px;
    margin-bottom: 15px;
}

.tab-btn {
    padding: 7px 14px;
    border: 1px solid #3a3a3a;
    background: transparent;
    color: #a0a0a0;
    cursor: pointer;
    font-size: 12px;
    font-weight: 500;
    transition: all 0.3s;
}

.tab-btn:hover {
    background: #333;
    border-color: #4a4a4a;
    color: #c0c0c0;
}

.tab-btn.active {
    background: #3a3a3a;
    color: #d8d8d8;
    border-color: #4a4a4a;
}

/* カレンダー */
.calendar-header-section {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
    padding-bottom: 10px;
    border-bottom: 1px solid #3a3a3a;
    flex-wrap: wrap;
    gap: 10px;
}

.calendar-navigation {
    display: flex;
    align-items: center;
    gap: 15px;
}

.calendar-nav-buttons {
    display: flex;
    gap: 5px;
}

.nav-btn {
    padding: 4px 10px;
    background: #3a3a3a;
    color: #c8c8c8;
    border: 1px solid #4a4a4a;
    cursor: pointer;
    font-size: 11px;
    font-weight: 500;
    transition: all 0.3s;
}

.nav-btn:hover {
    background: #4a4a4a;
    color: #e0e0e0;
}

.delivery-calculator {
    display: flex;
    align-items: center;
    gap: 8px;
}

.delivery-calculator label {
    font-size: 12px;
    color: #a0a0a0;
    font-weight: 500;
}

.calc-input {
    padding: 5px 8px;
    border: 1px solid #3a3a3a;
    background: #1a1a1a;
    color: #d0d0d0;
    font-size: 12px;
    width: 130px;
}

.calc-input-number {
    padding: 5px 8px;
    border: 1px solid #3a3a3a;
    background: #1a1a1a;
    color: #d0d0d0;
    font-size: 12px;
    width: 50px;
}

.calc-select {
    padding: 5px 8px;
    border: 1px solid #3a3a3a;
    background: #1a1a1a;
    color: #d0d0d0;
    font-size: 12px;
}

.calc-btn {
    padding: 5px 12px;
    background: #3a3a3a;
    color: #c8c8c8;
    border: 1px solid #4a4a4a;
    cursor: pointer;
    font-size: 12px;
    font-weight: 500;
    transition: all 0.3s;
}

.calc-btn:hover {
    background: #4a4a4a;
    color: #e0e0e0;
}

.calc-result {
    font-size: 12px;
    color: #d0d0d0;
    font-weight: 500;
    min-width: 100px;
}

#calendar-container {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 15px;
    max-height: 450px;
    overflow-y: auto;
}

.calendar-month {
    margin-bottom: 0;
}

.calendar-header {
    margin-bottom: 6px;
    padding-bottom: 5px;
    border-bottom: 1px solid #3a3a3a;
}

.calendar-header h3 {
    font-size: 12px;
    color: #a0a0a0;
    font-weight: 500;
    letter-spacing: 1px;
}

.calendar-grid {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 2px;
}

.calendar-day-header {
    text-align: center;
    font-weight: 500;
    padding: 3px;
    font-size: 9px;
}

.calendar-day-header.sun {
    color: #d89090;
}

.calendar-day-header.sat {
    color: #8090d8;
}

.calendar-day-header.weekday {
    color: #808080;
}

.calendar-day {
    text-align: center;
    padding: 4px;
    background: #2a2a2a;
    cursor: pointer;
    transition: all 0.3s;
    min-height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 11px;
    font-weight: 400;
}

.calendar-day.weekday {
    color: #b0b0b0;
}

.calendar-day.saturday {
    color: #8090d8;
}

.calendar-day.sunday {
    color: #d89090;
}

.calendar-day.holiday {
    color: #d89090;
    background: #2d2525;
}

.calendar-day:hover {
    background: #333;
}

.calendar-day.today {
    background: #3a3a3a;
    color: #e8e8e8;
    border: 1px solid #5a5a5a;
    font-weight: 600;
}

.calendar-day.other-month {
    color: #505050;
    background: #222;
}

.calendar-day.has-work {
    position: relative;
}

.calendar-day.has-work::after {
    content: '';
    position: absolute;
    bottom: 2px;
    right: 2px;
    width: 5px;
    height: 5px;
    background: #4ade80;
    border-radius: 50%;
    box-shadow: 0 0 3px rgba(74, 222, 128, 0.6);
}

/* ツールカード */
.tool-card {
    background: #232323;
    border: 1px solid #3a3a3a;
    padding: 12px;
    margin-bottom: 12px;
}

.tool-card h3 {
    font-size: 13px;
    margin-bottom: 10px;
    color: #b0b0b0;
    font-weight: 500;
    letter-spacing: 1px;
}

.tool-card textarea {
    width: 100%;
    min-height: 70px;
    padding: 8px;
    border: 1px solid #3a3a3a;
    background: #1a1a1a;
    color: #d0d0d0;
    font-family: inherit;
    font-size: 13px;
    line-height: 1.5;
    resize: vertical;
}

.tool-card input[type="text"],
.tool-card input[type="date"],
.tool-card input[type="number"] {
    width: 100%;
    padding: 8px;
    margin-bottom: 8px;
    border: 1px solid #3a3a3a;
    background: #1a1a1a;
    color: #d0d0d0;
    font-size: 13px;
}

.tool-card button {
    background: #3a3a3a;
    color: #c8c8c8;
    border: 1px solid #4a4a4a;
    padding: 7px 16px;
    cursor: pointer;
    font-size: 12px;
    font-weight: 500;
    margin-top: 5px;
    transition: all 0.3s;
}

.tool-card button:hover {
    background: #4a4a4a;
    color: #e0e0e0;
}

.tool-card label {
    display: block;
    margin-top: 8px;
    margin-bottom: 4px;
    font-size: 12px;
    color: #a0a0a0;
    font-weight: 500;
}

#order-items {
    list-style: none;
    margin-top: 10px;
}

#order-items li {
    background: #1a1a1a;
    padding: 8px;
    margin-bottom: 4px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border: 1px solid #3a3a3a;
    font-size: 13px;
    color: #c8c8c8;
}

#order-items li button {
    background: #4a3a3a;
    padding: 4px 8px;
    margin: 0;
    border-color: #5a4a4a;
}

.rate-item {
    display: flex;
    justify-content: space-between;
    padding: 6px;
    background: #1a1a1a;
    margin-bottom: 4px;
    border: 1px solid #3a3a3a;
    font-size: 13px;
}

.currency {
    font-weight: 500;
    color: #a8a8a8;
}

#delivery-result {
    margin-top: 8px;
    padding: 8px;
    background: #1a1a1a;
    border: 1px solid #3a3a3a;
    font-weight: 500;
    color: #c8c8c8;
    font-size: 13px;
}

/* コンパクトデジタル時計 */
.digital-time-compact {
    font-size: 24px;
    color: #d8d8d8;
    font-family: 'Courier New', 'SF Mono', 'Monaco', monospace;
    font-weight: 600;
    letter-spacing: 2px;
    text-align: center;
    margin-bottom: 3px;
}

.date-display-compact {
    font-size: 11px;
    color: #a0a0a0;
    text-align: center;
    margin-bottom: 10px;
}

/* コンパクト勤務時間設定 */
.work-time-settings {
    width: 200px;
    margin: 0 auto 12px auto;
}

.work-time-inputs-compact {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 5px;
    margin-bottom: 6px;
    font-size: 10px;
}

.work-time-inputs-compact .time-input {
    width: 65px;
    padding: 3px 6px;
    font-size: 10px;
    border: 1px solid #3a3a3a;
    background: #1a1a1a;
    color: #d0d0d0;
}

.work-time-inputs-compact .time-save-btn {
    padding: 3px 7px;
    font-size: 10px;
}

.time-info-compact {
    display: flex;
    justify-content: space-between;
    font-size: 10px;
    color: #b0b0b0;
    padding: 0 5px;
}

/* 勤務時間プログレスバー */
.work-progress {
    margin-bottom: 30px;
}

.progress-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
    font-size: 13px;
    color: #a0a0a0;
}

.work-time-inputs {
    display: flex;
    align-items: center;
    gap: 8px;
}

.time-input {
    padding: 4px 6px;
    border: 1px solid #3a3a3a;
    background: #1a1a1a;
    color: #d0d0d0;
    font-size: 12px;
    width: 80px;
}

.time-save-btn {
    padding: 4px 10px;
    background: #3a3a3a;
    color: #c8c8c8;
    border: 1px solid #4a4a4a;
    cursor: pointer;
    font-size: 11px;
    font-weight: 500;
    transition: all 0.3s;
}

.time-save-btn:hover {
    background: #4a4a4a;
    color: #e0e0e0;
}

.progress-bar-container {
    position: relative;
    width: 100%;
    height: 40px;
    background: #1a1a1a;
    border: 2px solid #3a3a3a;
    border-radius: 20px;
    overflow: hidden;
}

.progress-bar-fill {
    position: absolute;
    left: 0;
    top: 0;
    height: 100%;
    background: linear-gradient(90deg, #4a5a4a 0%, #5a7a5a 100%);
    transition: width 0.5s ease;
    border-radius: 18px;
}

.progress-current-marker {
    position: absolute;
    top: 0;
    height: 100%;
    width: 3px;
    background: #e0e0e0;
    box-shadow: 0 0 10px rgba(224, 224, 224, 0.8);
    transition: left 0.5s ease;
}

.progress-info {
    display: flex;
    justify-content: space-between;
    margin-top: 10px;
}

.time-info {
    font-size: 14px;
    color: #c0c0c0;
    font-weight: 500;
}

/* 砂時計 */
.hourglass-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-top: 8px;
    perspective: 1200px;
}

/* 勤務時間外は砂時計アニメーション停止 */
.hourglass-container.paused .falling-particles,
.hourglass-container.paused .falling-particles::before,
.hourglass-container.paused .falling-particles::after {
    animation-play-state: paused;
}

.hourglass {
    width: 65px;
    height: 180px;
    position: relative;
    filter: drop-shadow(0 8px 16px rgba(0, 0, 0, 0.6));
}

/* ギリシャ柱式キャピタル（柱頭） - コンパクト版 */
.column-capital {
    width: 100%;
    height: 16px;
    position: relative;
    z-index: 10;
}

.capital-abacus {
    width: 100%;
    height: 6px;
    background: linear-gradient(to bottom,
        #e8e8e8 0%,
        #d0d0d0 50%,
        #b8b8b8 100%);
    box-shadow:
        inset 0 1px 2px rgba(255, 255, 255, 0.6),
        inset 0 -1px 2px rgba(0, 0, 0, 0.3),
        0 1px 3px rgba(0, 0, 0, 0.4);
    border-top: 1px solid #f0f0f0;
    border-bottom: 1px solid #a0a0a0;
}

.capital-echinus {
    width: 95%;
    height: 10px;
    margin: 0 auto;
    background: linear-gradient(to bottom,
        #d8d8d8 0%,
        #c0c0c0 50%,
        #a8a8a8 100%);
    border-radius: 0 0 50% 50% / 0 0 40% 40%;
    box-shadow:
        inset 1px 0 2px rgba(0, 0, 0, 0.2),
        inset -1px 0 2px rgba(0, 0, 0, 0.2),
        0 2px 4px rgba(0, 0, 0, 0.3);
}

.column-capital.bottom .capital-echinus {
    border-radius: 50% 50% 0 0 / 40% 40% 0 0;
}

/* ギリシャ柱式の支柱 - コンパクト版 */
.column-shaft {
    position: absolute;
    width: 4px;
    height: 148px;
    top: 16px;
    background: linear-gradient(to right,
        #a8a8a8 0%,
        #c8c8c8 30%,
        #d8d8d8 50%,
        #c8c8c8 70%,
        #a8a8a8 100%);
    box-shadow:
        inset 1px 0 1px rgba(255, 255, 255, 0.5),
        inset -1px 0 1px rgba(0, 0, 0, 0.3),
        1px 0 3px rgba(0, 0, 0, 0.3);
    z-index: 1;
}

.column-shaft.left {
    left: 5px;
}

.column-shaft.right {
    right: 5px;
}

/* フルート（柱の溝） */
.column-shaft::before {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    background: repeating-linear-gradient(
        to bottom,
        transparent,
        transparent 18px,
        rgba(0, 0, 0, 0.05) 18px,
        rgba(0, 0, 0, 0.05) 20px
    );
}

/* 一体型ガラス容器 */
.glass-vessel {
    width: 100%;
    position: relative;
    z-index: 5;
}

/* 上部円錐容器 - 電球型（涙型）に変更 */
.glass-cone.upper-cone {
    width: 100%;
    height: 58px;
    position: relative;
    background: radial-gradient(ellipse at 50% 0%,
        rgba(200, 230, 250, 0.45) 0%,
        rgba(180, 220, 245, 0.38) 25%,
        rgba(160, 210, 240, 0.32) 50%,
        rgba(140, 200, 235, 0.36) 75%,
        rgba(120, 190, 230, 0.42) 100%);
    clip-path: polygon(
        25% 0%, 75% 0%,
        78% 5%, 80% 10%, 82% 18%, 83% 26%,
        82% 35%, 80% 44%, 76% 53%, 71% 62%,
        65% 71%, 60% 80%, 55% 88%, 52% 94%, 50% 100%,
        48% 94%, 45% 88%, 40% 80%, 35% 71%,
        29% 62%, 24% 53%, 20% 44%, 18% 35%,
        17% 26%, 18% 18%, 20% 10%, 22% 5%
    );
    overflow: hidden;
    box-shadow:
        inset -2px 2px 10px rgba(255, 255, 255, 0.5),
        inset 2px -2px 10px rgba(0, 0, 0, 0.25),
        inset -4px 0 8px rgba(120, 190, 230, 0.3),
        inset 4px 0 8px rgba(200, 240, 255, 0.2),
        0 3px 15px rgba(0, 0, 0, 0.3);
}

/* 下部円錐容器 - 電球型（涙型）に変更 */
.glass-cone.lower-cone {
    width: 100%;
    height: 58px;
    position: relative;
    background: radial-gradient(ellipse at 50% 100%,
        rgba(200, 230, 250, 0.45) 0%,
        rgba(180, 220, 245, 0.38) 25%,
        rgba(160, 210, 240, 0.32) 50%,
        rgba(140, 200, 235, 0.36) 75%,
        rgba(120, 190, 230, 0.42) 100%);
    clip-path: polygon(
        50% 0%, 48% 6%, 45% 12%, 40% 20%, 35% 29%,
        29% 38%, 24% 47%, 20% 56%, 18% 65%,
        17% 74%, 18% 82%, 20% 90%, 22% 95%,
        25% 100%, 75% 100%,
        78% 95%, 80% 90%, 82% 82%, 83% 74%,
        82% 65%, 80% 56%, 76% 47%, 71% 38%,
        65% 29%, 60% 20%, 55% 12%, 52% 6%
    );
    overflow: hidden;
    box-shadow:
        inset -2px -2px 10px rgba(255, 255, 255, 0.5),
        inset 2px 2px 10px rgba(0, 0, 0, 0.25),
        inset -4px 0 8px rgba(120, 190, 230, 0.3),
        inset 4px 0 8px rgba(200, 240, 255, 0.2),
        0 -3px 15px rgba(0, 0, 0, 0.3);
}

/* 上部のガラスの輝き */
.glass-shine-upper {
    position: absolute;
    width: 35%;
    height: 70%;
    left: 15%;
    top: 5%;
    background: linear-gradient(150deg,
        rgba(255, 255, 255, 0.45) 0%,
        rgba(255, 255, 255, 0.25) 30%,
        rgba(255, 255, 255, 0.1) 60%,
        transparent 90%);
    clip-path: ellipse(50% 70% at 40% 30%);
    pointer-events: none;
    filter: blur(5px);
}

.glass-reflection-upper {
    position: absolute;
    width: 20%;
    height: 40%;
    right: 20%;
    bottom: 15%;
    background: radial-gradient(ellipse,
        rgba(255, 255, 255, 0.2) 0%,
        rgba(255, 255, 255, 0.08) 40%,
        transparent 80%);
    pointer-events: none;
    filter: blur(3px);
}

/* 下部のガラスの輝き */
.glass-shine-lower {
    position: absolute;
    width: 35%;
    height: 70%;
    left: 15%;
    bottom: 5%;
    background: linear-gradient(150deg,
        rgba(255, 255, 255, 0.45) 0%,
        rgba(255, 255, 255, 0.25) 30%,
        rgba(255, 255, 255, 0.1) 60%,
        transparent 90%);
    clip-path: ellipse(50% 70% at 40% 70%);
    pointer-events: none;
    filter: blur(5px);
}

.glass-reflection-lower {
    position: absolute;
    width: 20%;
    height: 40%;
    right: 20%;
    top: 15%;
    background: radial-gradient(ellipse,
        rgba(255, 255, 255, 0.2) 0%,
        rgba(255, 255, 255, 0.08) 40%,
        transparent 80%);
    pointer-events: none;
    filter: blur(3px);
}

/* 極細の首部分（糸のように細い） */
.glass-throat {
    width: 4px;
    height: 14px;
    margin: 0 auto;
    position: relative;
    background: transparent;
    box-shadow:
        inset 1px 0 2px rgba(0, 0, 0, 0.3),
        inset -1px 0 2px rgba(0, 0, 0, 0.3);
    z-index: 6;
    overflow: visible;
}

.throat-inner-shadow {
    position: absolute;
    width: 100%;
    height: 100%;
    background: radial-gradient(ellipse at center,
        rgba(0, 0, 0, 0.2) 0%,
        transparent 60%);
}

/* 落下する砂の粒子（リアルな流れ） */
.falling-particles {
    position: absolute;
    width: 1px;
    height: 200%;
    left: 50%;
    transform: translateX(-50%);
    top: -100%;
    /* 細かいサラサラした砂の落下パーティクル */
    background:
        linear-gradient(to bottom,
            transparent 0%,
            transparent 10%,
            rgba(230, 220, 200, 0.35) 15%,
            rgba(220, 210, 190, 0.65) 20%,
            rgba(210, 200, 180, 0.85) 25%,
            rgba(205, 195, 175, 0.95) 30%,
            rgba(200, 190, 170, 0.9) 35%,
            rgba(195, 185, 165, 0.8) 40%,
            rgba(190, 180, 160, 0.65) 45%,
            rgba(185, 175, 155, 0.45) 50%,
            transparent 55%,
            transparent 100%
        );
    animation: sand-stream-fall 2s linear infinite;
    filter: blur(0.15px);
    /* 上部に砂がない時は非表示（JavaScriptで制御） */
    transition: opacity 0.3s ease-out;
}

.falling-particles::before,
.falling-particles::after {
    content: '';
    position: absolute;
    width: 1px;
    height: 100%;
    background: inherit;
}

.falling-particles::before {
    left: -0.3px;
    opacity: 0.4;
    animation: sand-stream-fall 2.3s linear infinite;
}

.falling-particles::after {
    right: -0.3px;
    opacity: 0.3;
    animation: sand-stream-fall 2.1s linear infinite;
}

@keyframes sand-stream-fall {
    0% {
        transform: translateX(-50%) translateY(0);
        opacity: 0;
    }
    10% {
        opacity: 1;
    }
    85% {
        opacity: 1;
    }
    100% {
        transform: translateX(-50%) translateY(100%);
        opacity: 0;
    }
}

/* 砂のコンテンツ（モノクロ、微細で均質） */
.sand-content {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    /* 細かくサラサラした明るいベージュ系の砂 */
    background: linear-gradient(135deg,
        #f5f0e8 0%,
        #ede5d8 10%,
        #e8dcc8 20%,
        #e0d0b8 30%,
        #d8c5a8 40%,
        #d0ba98 50%,
        #c8af88 60%,
        #c0a478 70%,
        #b89968 80%,
        #b08e58 90%,
        #a88348 100%);
    transition: height 1s linear;
    /* 非常に滑らかで光沢のある表面 */
    box-shadow:
        inset 0 6px 16px rgba(255, 255, 255, 0.6),
        inset 0 -5px 14px rgba(0, 0, 0, 0.25),
        inset 2px 0 8px rgba(255, 255, 255, 0.3),
        inset -2px 0 8px rgba(0, 0, 0, 0.15);
    /* サラサラの質感を強調 */
    filter: brightness(1.05) contrast(1.02);
}

.upper-content {
    clip-path: polygon(
        30% 3%, 70% 3%,
        72% 8%, 74% 13%, 76% 20%, 77% 28%,
        76% 37%, 74% 46%, 70% 55%, 65% 64%,
        59% 73%, 54% 82%, 51% 90%, 50% 97%, 50% 100%,
        50% 97%, 49% 90%, 46% 82%, 41% 73%,
        35% 64%, 30% 55%, 26% 46%, 24% 37%,
        23% 28%, 24% 20%, 26% 13%, 28% 8%
    );
}

.lower-content {
    clip-path: polygon(
        50% 0%, 50% 3%, 49% 10%, 46% 18%, 41% 27%,
        35% 36%, 30% 45%, 26% 54%, 24% 63%,
        23% 72%, 24% 80%, 26% 87%, 28% 92%,
        30% 97%, 70% 97%,
        72% 92%, 74% 87%, 76% 80%, 77% 72%,
        76% 63%, 74% 54%, 70% 45%, 65% 36%,
        59% 27%, 54% 18%, 51% 10%, 50% 3%
    );
}

/* 上部の砂の表面 - サラサラで光沢のある表現 */
.sand-top-surface {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 10px;
    background: radial-gradient(ellipse at 50% 0%,
        rgba(245, 240, 232, 0.98) 0%,
        rgba(232, 220, 200, 0.85) 25%,
        rgba(220, 205, 180, 0.6) 50%,
        rgba(200, 185, 160, 0.35) 75%,
        transparent 95%);
    filter: blur(0.6px);
}

.sand-top-surface::before {
    content: '';
    position: absolute;
    top: 2px;
    left: 25%;
    right: 25%;
    height: 1.5px;
    background: linear-gradient(90deg,
        transparent,
        rgba(235, 225, 205, 0.6) 30%,
        rgba(245, 235, 215, 0.7) 50%,
        rgba(235, 225, 205, 0.6) 70%,
        transparent);
    border-radius: 50%;
    filter: blur(0.5px);
}

/* 下部の砂の山（頂点） - 安息角22度に基づく物理的に正確な形状 */
.sand-pile-peak {
    position: absolute;
    top: -3px;
    left: 50%;
    transform: translateX(-50%);
    width: 60%;
    height: 18px;
    /* 細かい砂の明るい色合い */
    background: radial-gradient(ellipse at 50% 0%,
        rgba(245, 240, 232, 0.95) 0%,
        rgba(235, 228, 212, 0.85) 20%,
        rgba(225, 215, 195, 0.7) 40%,
        rgba(210, 200, 180, 0.55) 60%,
        rgba(195, 185, 165, 0.35) 80%,
        transparent 98%);
    /* 安息角22度に基づく緩やかな山型 - 底から水平に近く、中心部のみわずかに盛り上がる */
    clip-path: polygon(
        50% 0%,           /* 中央の頂点（最大3px程度の盛り上がり） */
        47% 5%,           /* 左側の緩やかな傾斜開始 */
        43% 12%,          /* 安息角22度（緩やか）*/
        38% 22%,
        32% 35%,
        25% 50%,
        18% 65%,
        10% 80%,
        5% 90%,
        0% 100%,          /* 左端の底面（ほぼ水平） */
        100% 100%,        /* 右端の底面（ほぼ水平） */
        95% 90%,
        90% 80%,
        82% 65%,
        75% 50%,
        68% 35%,
        62% 22%,
        57% 12%,          /* 安息角22度（緩やか）*/
        53% 5%            /* 右側の緩やかな傾斜開始 */
    );
    filter: blur(0.9px);
    /* サラサラの質感 */
    opacity: 0.95;
}

/* 微細で均質なサラサラした砂の粒子テクスチャ（2px以下の極小粒子） */
.sand-content::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    /* 非常に細かい粒子パターン（1px以下） */
    background-image:
        /* 明るい粒子（ハイライト） */
        radial-gradient(circle at 23% 31%, rgba(255, 250, 240, 0.35) 0.3px, transparent 0.3px),
        radial-gradient(circle at 67% 73%, rgba(255, 245, 230, 0.3) 0.3px, transparent 0.3px),
        radial-gradient(circle at 89% 19%, rgba(255, 248, 235, 0.28) 0.3px, transparent 0.3px),
        radial-gradient(circle at 37% 83%, rgba(255, 252, 242, 0.32) 0.3px, transparent 0.3px),
        radial-gradient(circle at 71% 47%, rgba(255, 250, 238, 0.3) 0.3px, transparent 0.3px),
        /* 暗い粒子（シャドウ） */
        radial-gradient(circle at 41% 59%, rgba(160, 140, 110, 0.15) 0.25px, transparent 0.25px),
        radial-gradient(circle at 83% 67%, rgba(150, 130, 100, 0.12) 0.25px, transparent 0.25px),
        radial-gradient(circle at 29% 43%, rgba(170, 150, 120, 0.14) 0.25px, transparent 0.25px),
        radial-gradient(circle at 51% 17%, rgba(155, 135, 105, 0.13) 0.25px, transparent 0.25px),
        radial-gradient(circle at 13% 61%, rgba(165, 145, 115, 0.11) 0.25px, transparent 0.25px);
    /* 極小のパターンサイズ（6px〜10px）で非常に細かい質感 */
    background-size: 6px 6px, 7px 7px, 8px 8px, 6.5px 6.5px, 7.5px 7.5px,
                     8.5px 8.5px, 9px 9px, 7px 7px, 8px 8px, 9.5px 9.5px;
    background-position: 0 0, 2px 3px, 5px 1px, 1px 4px, 4px 6px,
                        3px 2px, 6px 5px, 2px 7px, 7px 3px, 1px 8px;
    pointer-events: none;
    opacity: 0.5;
    /* サラサラの質感を強調 */
    mix-blend-mode: soft-light;
}

.hourglass-label {
    margin-top: 12px;
    font-size: 10px;
    color: #909090;
    text-align: center;
    letter-spacing: 1px;
    text-transform: uppercase;
    font-weight: 400;
}


.timer-controls {
    display: flex;
    gap: 5px;
    justify-content: center;
    margin-bottom: 8px;
    width: 100%;
}

.timer-controls input {
    width: 50px;
    padding: 4px 6px;
    font-size: 11px;
    border: 1px solid #3a3a3a;
    background: #1a1a1a;
    color: #d0d0d0;
    text-align: center;
}

.timer-btn, .timer-btn-stop {
    padding: 4px 10px;
    font-size: 10px;
    border: 1px solid #4a4a4a;
    cursor: pointer;
    font-weight: 500;
    transition: all 0.3s;
}

.timer-btn {
    background: #5a3a3a;
    color: #d8b8b8;
}

.timer-btn:hover {
    background: #6a4a4a;
    color: #e8c8c8;
}

.timer-btn-stop {
    background: #3a3a3a;
    color: #c8c8c8;
}

.timer-btn-stop:hover {
    background: #4a4a4a;
    color: #e0e0e0;
}

.countdown-display {
    font-size: 16px;
    color: #d8b8b8;
    font-family: 'Courier New', 'SF Mono', 'Monaco', monospace;
    font-weight: 600;
    text-align: center;
    margin-bottom: 8px;
}

/* ミニ砂時計 (ワインレッドフレーム、モノクロ砂) */
.mini-hourglass-container {
    display: flex;
    justify-content: center;
    align-items: center;
    perspective: 800px;
}

.mini-hourglass {
    width: 40px;
    height: 100px;
    position: relative;
    filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.5));
    transform: rotateZ(0deg); /* デフォルトで正面向き、砂が下 */
    transition: transform 0.8s ease-in-out;
}

/* 半回転アニメーション（Z軸で180度回転、首部分を中心に） */
.mini-hourglass.flipping {
    transform: rotateZ(180deg);
}

/* ミニギリシャ柱式キャピタル（柱頭） - ワインレッド */
.mini-column-capital {
    width: 100%;
    height: 10px;
    position: relative;
    z-index: 10;
}

.mini-capital-abacus {
    width: 100%;
    height: 4px;
    background: linear-gradient(to bottom,
        #b86868 0%,
        #a85858 50%,
        #984848 100%);
    box-shadow:
        inset 0 1px 2px rgba(200, 120, 120, 0.6),
        inset 0 -1px 2px rgba(40, 10, 10, 0.3),
        0 1px 3px rgba(0, 0, 0, 0.4);
    border-top: 1px solid #c87878;
    border-bottom: 1px solid #884040;
}

.mini-capital-echinus {
    width: 95%;
    height: 6px;
    margin: 0 auto;
    background: linear-gradient(to bottom,
        #a85858 0%,
        #985050 50%,
        #884040 100%);
    border-radius: 0 0 50% 50% / 0 0 40% 40%;
    box-shadow:
        inset 1px 0 2px rgba(40, 10, 10, 0.2),
        inset -1px 0 2px rgba(40, 10, 10, 0.2),
        0 2px 4px rgba(0, 0, 0, 0.3);
}

.mini-column-capital.mini-bottom .mini-capital-echinus {
    border-radius: 50% 50% 0 0 / 40% 40% 0 0;
}

/* ミニギリシャ柱式の支柱 - ワインレッド */
.mini-column-shaft {
    position: absolute;
    width: 3px;
    height: 80px;
    top: 10px;
    background: linear-gradient(to right,
        #884040 0%,
        #a85858 30%,
        #b86868 50%,
        #a85858 70%,
        #884040 100%);
    box-shadow:
        inset 1px 0 1px rgba(200, 120, 120, 0.5),
        inset -1px 0 1px rgba(40, 10, 10, 0.3),
        1px 0 3px rgba(0, 0, 0, 0.3);
    z-index: 1;
}

.mini-column-shaft.mini-left {
    left: 3px;
}

.mini-column-shaft.mini-right {
    right: 3px;
}

/* フルート（柱の溝） */
.mini-column-shaft::before {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    background: repeating-linear-gradient(
        to bottom,
        transparent,
        transparent 10px,
        rgba(40, 10, 10, 0.08) 10px,
        rgba(40, 10, 10, 0.08) 11px
    );
}

/* 一体型ガラス容器 */
.mini-glass-vessel {
    width: 100%;
    position: relative;
    z-index: 5;
}

/* ミニ上部円錐容器 - 電球型（涙型）に変更 */
.mini-glass-cone.mini-upper-cone {
    width: 100%;
    height: 34px;
    position: relative;
    background: radial-gradient(ellipse at 50% 0%,
        rgba(200, 230, 250, 0.45) 0%,
        rgba(180, 220, 245, 0.38) 25%,
        rgba(160, 210, 240, 0.32) 50%,
        rgba(140, 200, 235, 0.36) 75%,
        rgba(120, 190, 230, 0.42) 100%);
    clip-path: polygon(
        25% 0%, 75% 0%,
        78% 5%, 80% 10%, 82% 18%, 83% 26%,
        82% 35%, 80% 44%, 76% 53%, 71% 62%,
        65% 71%, 60% 80%, 55% 88%, 52% 94%, 50% 100%,
        48% 94%, 45% 88%, 40% 80%, 35% 71%,
        29% 62%, 24% 53%, 20% 44%, 18% 35%,
        17% 26%, 18% 18%, 20% 10%, 22% 5%
    );
    overflow: hidden;
    box-shadow:
        inset -1.5px 1.5px 8px rgba(255, 255, 255, 0.5),
        inset 1.5px -1.5px 8px rgba(0, 0, 0, 0.25),
        inset -3px 0 6px rgba(120, 190, 230, 0.3),
        inset 3px 0 6px rgba(200, 240, 255, 0.2),
        0 2px 12px rgba(0, 0, 0, 0.3);
}

/* ミニ下部円錐容器 - 電球型（涙型）に変更 */
.mini-glass-cone.mini-lower-cone {
    width: 100%;
    height: 34px;
    position: relative;
    background: radial-gradient(ellipse at 50% 100%,
        rgba(200, 230, 250, 0.45) 0%,
        rgba(180, 220, 245, 0.38) 25%,
        rgba(160, 210, 240, 0.32) 50%,
        rgba(140, 200, 235, 0.36) 75%,
        rgba(120, 190, 230, 0.42) 100%);
    clip-path: polygon(
        50% 0%, 48% 6%, 45% 12%, 40% 20%, 35% 29%,
        29% 38%, 24% 47%, 20% 56%, 18% 65%,
        17% 74%, 18% 82%, 20% 90%, 22% 95%,
        25% 100%, 75% 100%,
        78% 95%, 80% 90%, 82% 82%, 83% 74%,
        82% 65%, 80% 56%, 76% 47%, 71% 38%,
        65% 29%, 60% 20%, 55% 12%, 52% 6%
    );
    overflow: hidden;
    box-shadow:
        inset -1.5px -1.5px 8px rgba(255, 255, 255, 0.5),
        inset 1.5px 1.5px 8px rgba(0, 0, 0, 0.25),
        inset -3px 0 6px rgba(120, 190, 230, 0.3),
        inset 3px 0 6px rgba(200, 240, 255, 0.2),
        0 -2px 12px rgba(0, 0, 0, 0.3);
}

/* ミニ上部のガラスの輝き */
.mini-glass-shine-upper {
    position: absolute;
    width: 35%;
    height: 70%;
    left: 15%;
    top: 5%;
    background: linear-gradient(150deg,
        rgba(255, 255, 255, 0.45) 0%,
        rgba(255, 255, 255, 0.25) 30%,
        rgba(255, 255, 255, 0.1) 60%,
        transparent 90%);
    clip-path: ellipse(50% 70% at 40% 30%);
    pointer-events: none;
    filter: blur(3px);
}

.mini-glass-reflection-upper {
    position: absolute;
    width: 20%;
    height: 40%;
    right: 20%;
    bottom: 15%;
    background: radial-gradient(ellipse,
        rgba(255, 255, 255, 0.2) 0%,
        rgba(255, 255, 255, 0.08) 40%,
        transparent 80%);
    pointer-events: none;
    filter: blur(2px);
}

/* ミニ下部のガラスの輝き */
.mini-glass-shine-lower {
    position: absolute;
    width: 35%;
    height: 70%;
    left: 15%;
    bottom: 5%;
    background: linear-gradient(150deg,
        rgba(255, 255, 255, 0.45) 0%,
        rgba(255, 255, 255, 0.25) 30%,
        rgba(255, 255, 255, 0.1) 60%,
        transparent 90%);
    clip-path: ellipse(50% 70% at 40% 70%);
    pointer-events: none;
    filter: blur(3px);
}

.mini-glass-reflection-lower {
    position: absolute;
    width: 20%;
    height: 40%;
    right: 20%;
    top: 15%;
    background: radial-gradient(ellipse,
        rgba(255, 255, 255, 0.2) 0%,
        rgba(255, 255, 255, 0.08) 40%,
        transparent 80%);
    pointer-events: none;
    filter: blur(2px);
}

/* ミニ極細の首部分 */
.mini-glass-throat {
    width: 3px;
    height: 8px;
    margin: 0 auto;
    position: relative;
    background: transparent;
    box-shadow:
        inset 1px 0 2px rgba(0, 0, 0, 0.3),
        inset -1px 0 2px rgba(0, 0, 0, 0.3);
    z-index: 6;
    overflow: visible;
}

.mini-throat-inner-shadow {
    position: absolute;
    width: 100%;
    height: 100%;
    background: radial-gradient(ellipse at center,
        rgba(0, 0, 0, 0.2) 0%,
        transparent 60%);
}

/* ミニ落下する砂の粒子 */
.mini-falling-particles {
    position: absolute;
    width: 0.8px;
    height: 200%;
    left: 50%;
    transform: translateX(-50%);
    top: -100%;
    background:
        linear-gradient(to bottom,
            transparent 0%,
            transparent 10%,
            rgba(220, 220, 220, 0.3) 15%,
            rgba(210, 210, 210, 0.6) 20%,
            rgba(200, 200, 200, 0.8) 25%,
            rgba(195, 195, 195, 0.9) 30%,
            rgba(190, 190, 190, 0.85) 35%,
            rgba(185, 185, 185, 0.75) 40%,
            rgba(180, 180, 180, 0.6) 45%,
            rgba(175, 175, 175, 0.4) 50%,
            transparent 55%,
            transparent 100%
        );
    animation: mini-sand-fall 1.5s linear infinite;
    filter: blur(0.15px);
}

/* 180度回転後、アニメーションの向きを逆に */
.mini-hourglass.flipping .mini-falling-particles {
    top: auto;
    bottom: -100%;
    background:
        linear-gradient(to top,
            transparent 0%,
            transparent 10%,
            rgba(220, 220, 220, 0.3) 15%,
            rgba(210, 210, 210, 0.6) 20%,
            rgba(200, 200, 200, 0.8) 25%,
            rgba(195, 195, 195, 0.9) 30%,
            rgba(190, 190, 190, 0.85) 35%,
            rgba(185, 185, 185, 0.75) 40%,
            rgba(180, 180, 180, 0.6) 45%,
            rgba(175, 175, 175, 0.4) 50%,
            transparent 55%,
            transparent 100%
        );
    animation: mini-sand-fall-reverse 1.5s linear infinite;
}

@keyframes mini-sand-fall-reverse {
    0% {
        transform: translateX(-50%) translateY(0);
        opacity: 0;
    }
    10% {
        opacity: 1;
    }
    85% {
        opacity: 1;
    }
    100% {
        transform: translateX(-50%) translateY(-100%);
        opacity: 0;
    }
}

.mini-falling-particles::before,
.mini-falling-particles::after {
    content: '';
    position: absolute;
    width: 0.8px;
    height: 100%;
    background: inherit;
}

.mini-falling-particles::before {
    left: -0.2px;
    opacity: 0.4;
    animation: mini-sand-fall 1.7s linear infinite;
}

.mini-falling-particles::after {
    right: -0.2px;
    opacity: 0.3;
    animation: mini-sand-fall 1.6s linear infinite;
}

.mini-hourglass-container.paused .mini-falling-particles,
.mini-hourglass-container.paused .mini-falling-particles::before,
.mini-hourglass-container.paused .mini-falling-particles::after {
    animation-play-state: paused;
}

@keyframes mini-sand-fall {
    0% {
        transform: translateX(-50%) translateY(0);
        opacity: 0;
    }
    10% {
        opacity: 1;
    }
    85% {
        opacity: 1;
    }
    100% {
        transform: translateX(-50%) translateY(100%);
        opacity: 0;
    }
}

/* ミニ砂のコンテンツ (モノクロ、微細で均質) */
.mini-sand-content {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    background: linear-gradient(135deg,
        #f8f8f8 0%,
        #ececec 12%,
        #e0e0e0 25%,
        #d4d4d4 37%,
        #c8c8c8 50%,
        #bcbcbc 62%,
        #b0b0b0 75%,
        #a4a4a4 87%,
        #989898 100%);
    transition: height 0.5s linear;
    box-shadow:
        inset 0 3px 8px rgba(255, 255, 255, 0.5),
        inset 0 -2px 6px rgba(0, 0, 0, 0.35);
}

/* 180度回転後、砂が下から溜まるように */
.mini-hourglass.flipping .mini-sand-content {
    bottom: auto;
    top: 0;
}

.mini-upper-content {
    clip-path: polygon(
        30% 3%, 70% 3%,
        72% 8%, 74% 13%, 76% 20%, 77% 28%,
        76% 37%, 74% 46%, 70% 55%, 65% 64%,
        59% 73%, 54% 82%, 51% 90%, 50% 97%, 50% 100%,
        50% 97%, 49% 90%, 46% 82%, 41% 73%,
        35% 64%, 30% 55%, 26% 46%, 24% 37%,
        23% 28%, 24% 20%, 26% 13%, 28% 8%
    );
}

.mini-lower-content {
    clip-path: polygon(
        50% 0%, 50% 3%, 49% 10%, 46% 18%, 41% 27%,
        35% 36%, 30% 45%, 26% 54%, 24% 63%,
        23% 72%, 24% 80%, 26% 87%, 28% 92%,
        30% 97%, 70% 97%,
        72% 92%, 74% 87%, 76% 80%, 77% 72%,
        76% 63%, 74% 54%, 70% 45%, 65% 36%,
        59% 27%, 54% 18%, 51% 10%, 50% 3%
    );
}

/* ミニ上部の砂の表面 */
.mini-sand-top-surface {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: radial-gradient(ellipse at 50% 0%,
        rgba(248, 248, 248, 0.95) 0%,
        rgba(220, 220, 220, 0.7) 35%,
        rgba(190, 190, 190, 0.4) 65%,
        transparent 90%);
    filter: blur(0.5px);
}

.mini-sand-top-surface::before {
    content: '';
    position: absolute;
    top: 1px;
    left: 30%;
    right: 30%;
    height: 0.5px;
    background: linear-gradient(90deg,
        transparent,
        rgba(200, 200, 200, 0.5) 40%,
        rgba(200, 200, 200, 0.5) 60%,
        transparent);
}

/* ミニ下部の砂の山（頂点） - ガラス形状に沿った台形+中央三角形 */
.mini-sand-pile-peak {
    position: absolute;
    top: -1px;
    left: 50%;
    transform: translateX(-50%);
    width: 50%;
    height: 12px;
    background: radial-gradient(ellipse at 50% 0%,
        rgba(248, 248, 248, 0.9) 0%,
        rgba(230, 230, 230, 0.7) 30%,
        rgba(210, 210, 210, 0.5) 55%,
        rgba(190, 190, 190, 0.3) 75%,
        transparent 95%);
    /* ガラスの円錐形状に沿った台形ベース + 中央の三角形の山 */
    clip-path: polygon(
        50% 0%,           /* 中央の頂点（砂が落ちる箇所） */
        45% 8%,           /* 左側の山の肩（極めて小さく調整） */
        15% 50%,          /* 左側の台形上辺（広く調整） */
        8% 75%,           /* 左側の傾斜 */
        0% 100%,          /* 左下角（ガラス底面） */
        100% 100%,        /* 右下角（ガラス底面） */
        92% 75%,          /* 右側の傾斜 */
        85% 50%,          /* 右側の台形上辺（広く調整） */
        55% 8%            /* 右側の山の肩（極めて小さく調整） */
    );
    filter: blur(0.8px);
}

/* ミニ微細で均質な砂の粒子テクスチャ */
.mini-sand-content::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image:
        radial-gradient(circle at 23% 31%, rgba(255, 255, 255, 0.25) 0.3px, transparent 0.3px),
        radial-gradient(circle at 67% 73%, rgba(0, 0, 0, 0.15) 0.3px, transparent 0.3px),
        radial-gradient(circle at 89% 19%, rgba(255, 255, 255, 0.2) 0.3px, transparent 0.3px),
        radial-gradient(circle at 37% 83%, rgba(0, 0, 0, 0.12) 0.3px, transparent 0.3px),
        radial-gradient(circle at 71% 47%, rgba(255, 255, 255, 0.22) 0.3px, transparent 0.3px),
        radial-gradient(circle at 41% 59%, rgba(0, 0, 0, 0.1) 0.3px, transparent 0.3px);
    background-size: 6px 6px, 8px 8px, 7px 7px, 9px 9px, 6px 6px, 7px 7px;
    background-position: 0 0, 2px 2px, 4px 1px, 1px 4px, 3px 5px, 5px 3px;
    pointer-events: none;
    opacity: 0.6;
}

/* 業務記録 */
.quick-task-buttons {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 6px;
    margin-bottom: 12px;
}

.quick-task-btn {
    padding: 8px;
    background: #3a3a3a;
    color: #c8c8c8;
    border: 1px solid #4a4a4a;
    cursor: pointer;
    font-size: 11px;
    font-weight: 500;
    transition: all 0.3s;
    position: relative;
    text-align: left;
}

.quick-task-btn:hover {
    background: #4a4a4a;
    color: #e0e0e0;
}

.quick-task-btn.active {
    background: #4a5a4a;
    color: #d0f0d0;
    border-color: #5a6a5a;
}

.quick-task-btn .delete-btn {
    position: absolute;
    right: 5px;
    top: 5px;
    background: #5a3a3a;
    color: #d0a0a0;
    border: none;
    padding: 2px 6px;
    font-size: 10px;
    cursor: pointer;
    border-radius: 3px;
}

.quick-task-btn .delete-btn:hover {
    background: #6a4a4a;
}

.add-task-button {
    display: flex;
    gap: 6px;
    margin-bottom: 12px;
    padding-top: 8px;
    border-top: 1px solid #3a3a3a;
}

.add-task-button input {
    flex: 1;
    padding: 6px;
    border: 1px solid #3a3a3a;
    background: #1a1a1a;
    color: #d0d0d0;
    font-size: 11px;
}

.add-task-button button {
    padding: 6px 12px;
    background: #3a3a3a;
    color: #c8c8c8;
    border: 1px solid #4a4a4a;
    cursor: pointer;
    font-size: 11px;
    font-weight: 500;
    transition: all 0.3s;
}

.add-task-button button:hover {
    background: #4a4a4a;
    color: #e0e0e0;
}

.current-task {
    background: #232323;
    border: 1px solid #3a3a3a;
    padding: 10px;
    margin-bottom: 12px;
    font-size: 11px;
}

/* 記録中の業務 - 1行表示 */
.current-task-compact {
    display: flex;
    align-items: center;
    gap: 8px;
    background: #2a3a2a;
    border: 1px solid #3a4a3a;
    padding: 6px 10px;
    margin-bottom: 8px;
    font-size: 10px;
}

.current-task-label {
    color: #90c090;
    font-weight: 600;
    flex-shrink: 0;
}

.current-task-name {
    color: #d0d0d0;
    font-weight: 500;
    flex: 1;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.current-task-timer {
    color: #b0f0b0;
    font-family: 'Courier New', 'SF Mono', 'Monaco', monospace;
    font-size: 11px;
    font-weight: 600;
    flex-shrink: 0;
    min-width: 65px;
}

.edit-current-btn,
.stop-task-btn {
    padding: 3px 8px;
    background: #3a3a3a;
    color: #c0c0c0;
    border: 1px solid #4a4a4a;
    cursor: pointer;
    font-size: 9px;
    font-weight: 500;
    flex-shrink: 0;
    transition: all 0.2s;
}

.stop-task-btn {
    background: #4a3a3a;
    border-color: #5a4a4a;
}

.edit-current-btn:hover {
    background: #4a4a4a;
    color: #6ba8ff;
    border-color: #6ba8ff;
}

.stop-task-btn:hover {
    background: #5a4a4a;
    color: #f0c0c0;
    border-color: #f0a0a0;
}

.record-list {
    max-height: 150px;
    overflow-y: auto;
}

.record-item {
    background: #232323;
    border: 1px solid #3a3a3a;
    padding: 6px 8px;
    margin-bottom: 4px;
    font-size: 10px;
    display: flex;
    align-items: center;
    gap: 8px;
}

.record-item .record-actions {
    display: flex;
    gap: 3px;
    flex-shrink: 0;
    margin-left: auto;
}

.record-edit-btn,
.record-delete-btn {
    background: #2a2a2a;
    border: 1px solid #3a3a3a;
    color: #b0b0b0;
    cursor: pointer;
    font-size: 12px;
    width: 22px;
    height: 22px;
    padding: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
}

.record-edit-btn:hover {
    background: #3a3a3a;
    color: #6ba8ff;
    border-color: #6ba8ff;
}

.record-delete-btn:hover {
    background: #3a3a3a;
    color: #ff6b6b;
    border-color: #ff6b6b;
}

.edit-current-btn {
    background: #2a2a2a;
    border: 1px solid #3a3a3a;
    color: #b0b0b0;
    cursor: pointer;
    font-size: 11px;
    padding: 2px 5px;
    margin-left: 8px;
    transition: all 0.2s;
}

.edit-current-btn:hover {
    background: #3a3a3a;
    color: #6ba8ff;
    border-color: #6ba8ff;
}

/* 編集モーダル */
.edit-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.7);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10000;
}

.edit-modal-content {
    background: #1a1a1a;
    border: 1px solid #3a3a3a;
    padding: 20px;
    border-radius: 4px;
    min-width: 350px;
    max-width: 500px;
}

.edit-modal-content h3 {
    color: #d8d8d8;
    font-size: 16px;
    margin: 0 0 20px 0;
    font-weight: 500;
}

.edit-form {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.edit-form label {
    color: #b0b0b0;
    font-size: 11px;
    margin-bottom: 4px;
}

.edit-input {
    width: 100%;
    padding: 8px 10px;
    background: #0a0a0a;
    border: 1px solid #3a3a3a;
    color: #d8d8d8;
    font-size: 12px;
    box-sizing: border-box;
}

.edit-input:focus {
    outline: none;
    border-color: #6ba8ff;
}

.edit-buttons {
    display: flex;
    gap: 10px;
    margin-top: 10px;
}

.edit-buttons button {
    flex: 1;
    padding: 8px 12px;
    font-size: 12px;
    cursor: pointer;
    border: 1px solid #3a3a3a;
    transition: all 0.2s;
}

.save-btn {
    background: #2a4a2a;
    color: #a0d0a0;
}

.save-btn:hover {
    background: #3a5a3a;
    border-color: #5a8a5a;
}

.cancel-btn {
    background: #2a2a2a;
    color: #b0b0b0;
}

.cancel-btn:hover {
    background: #3a3a3a;
    border-color: #4a4a4a;
}

/* 記録履歴 - 1行表示 */
.record-item-compact {
    display: flex;
    align-items: center;
    gap: 6px;
    background: #232323;
    border: 1px solid #3a3a3a;
    padding: 4px 6px;
    margin-bottom: 3px;
    font-size: 9px;
    transition: background 0.2s;
}

.record-item-compact:hover {
    background: #2a2a2a;
}

.record-task-name {
    color: #d0d0d0;
    font-weight: 500;
    flex: 1;
    min-width: 0;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.record-time-range {
    color: #909090;
    font-size: 9px;
    white-space: nowrap;
    flex-shrink: 0;
    font-family: 'Courier New', 'SF Mono', 'Monaco', monospace;
}

.record-duration-text {
    color: #a8a8a8;
    font-size: 9px;
    white-space: nowrap;
    flex-shrink: 0;
    min-width: 50px;
    text-align: right;
}

.record-item .record-task {
    color: #d0d0d0;
    font-weight: 500;
    font-size: 11px;
    min-width: 100px;
    flex-shrink: 0;
}

.record-item .record-time {
    color: #909090;
    font-size: 10px;
    white-space: nowrap;
    flex-shrink: 0;
}

.record-item .record-duration {
    color: #a8a8a8;
    font-size: 10px;
    white-space: nowrap;
    flex-shrink: 0;
    min-width: 60px;
}

.record-summary {
    background: #333;
    padding: 8px;
    margin-bottom: 10px;
    border-left: 3px solid #5a7a5a;
    color: #d0f0d0;
    font-size: 11px;
    font-weight: 500;
}

/* スクロールバーのスタイル */
.news-container::-webkit-scrollbar,
.record-list::-webkit-scrollbar,
#calendar-container::-webkit-scrollbar {
    width: 6px;
}

.news-container::-webkit-scrollbar-track,
.record-list::-webkit-scrollbar-track,
#calendar-container::-webkit-scrollbar-track {
    background: #1a1a1a;
}

.news-container::-webkit-scrollbar-thumb,
.record-list::-webkit-scrollbar-thumb,
#calendar-container::-webkit-scrollbar-thumb {
    background: #3a3a3a;
}

.news-container::-webkit-scrollbar-thumb:hover,
.record-list::-webkit-scrollbar-thumb:hover,
#calendar-container::-webkit-scrollbar-thumb:hover {
    background: #4a4a4a;
}

/* 横並びセクション */
.horizontal-sections {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
}

/* 左列（砂時計＋定型文） */
.left-column {
    display: flex;
    flex-direction: column;
    height: 100%;
    gap: 0;
}

/* 砂時計セクション（2/3の高さ） */
.hourglass-section {
    flex: 2;
    min-height: 0;
    margin-bottom: 20px;
}

/* コンパクト定型文セクション（1/3の高さ） */
.template-compact-section {
    flex: 1;
    min-height: 0;
}

/* 定型文セクション */
.template-text-section {
    width: 100%;
}

.template-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
}

.template-header h3 {
    font-size: 12px;
    color: #a0a0a0;
    font-weight: 500;
    letter-spacing: 1px;
    margin: 0;
}

.template-settings-btn {
    background: #3a3a3a;
    color: #c8c8c8;
    border: 1px solid #4a4a4a;
    cursor: pointer;
    font-size: 14px;
    width: 24px;
    height: 24px;
    padding: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s;
}

.template-settings-btn:hover {
    background: #4a4a4a;
    color: #e0e0e0;
}

.template-list {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 8px;
    max-height: 300px;
    overflow-y: auto;
}

.template-item {
    display: flex;
    align-items: center;
    gap: 8px;
    background: #232323;
    border: 1px solid #3a3a3a;
    padding: 6px 8px;
    transition: all 0.3s;
}

.template-item:hover {
    background: #2a2a2a;
    border-color: #4a4a4a;
}

.template-text {
    flex: 1;
    color: #c0c0c0;
    font-size: 11px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.template-copy-btn {
    background: #3a3a3a;
    color: #c8c8c8;
    border: 1px solid #4a4a4a;
    cursor: pointer;
    font-size: 10px;
    padding: 4px 10px;
    font-weight: 500;
    transition: all 0.3s;
    flex-shrink: 0;
}

.template-copy-btn:hover {
    background: #4a4a4a;
    color: #e0e0e0;
}

.template-copy-btn.copied {
    background: #4a5a4a;
    color: #d0f0d0;
    border-color: #5a6a5a;
}

/* 定型文設定モーダル */
.template-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.7);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10000;
}

.template-modal-content {
    background: #1a1a1a;
    border: 1px solid #3a3a3a;
    padding: 20px;
    border-radius: 4px;
    min-width: 400px;
    max-width: 500px;
}

.template-modal-content h3 {
    color: #d8d8d8;
    font-size: 16px;
    margin: 0 0 20px 0;
    font-weight: 500;
}

.template-form {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.template-form-group {
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.template-form-group label {
    color: #b0b0b0;
    font-size: 11px;
    font-weight: 500;
}

.template-name-input {
    width: 100%;
    padding: 8px 10px;
    background: #0a0a0a;
    border: 1px solid #3a3a3a;
    color: #d8d8d8;
    font-size: 12px;
    box-sizing: border-box;
}

.template-name-input:focus {
    outline: none;
    border-color: #6ba8ff;
}

.template-inputs {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.template-input-group {
    display: flex;
    gap: 6px;
    align-items: center;
}

.template-input-group input {
    flex: 1;
    padding: 6px 8px;
    background: #0a0a0a;
    border: 1px solid #3a3a3a;
    color: #d8d8d8;
    font-size: 11px;
}

.template-input-group input:focus {
    outline: none;
    border-color: #6ba8ff;
}

.template-preview {
    background: #0a0a0a;
    border: 1px solid #3a3a3a;
    padding: 10px;
    margin-top: 10px;
}

.template-preview-text {
    color: #c8c8c8;
    font-size: 11px;
    line-height: 1.6;
}

.template-buttons {
    display: flex;
    gap: 10px;
    margin-top: 10px;
}

.template-buttons button {
    flex: 1;
    padding: 8px 12px;
    font-size: 12px;
    cursor: pointer;
    border: 1px solid #3a3a3a;
    transition: all 0.2s;
}

.template-save-btn {
    background: #2a4a2a;
    color: #a0d0a0;
}

.template-save-btn:hover {
    background: #3a5a3a;
    border-color: #5a8a5a;
}

.template-cancel-btn {
    background: #2a2a2a;
    color: #b0b0b0;
}

.template-cancel-btn:hover {
    background: #3a3a3a;
    border-color: #4a4a4a;
}

/* Excel処理セクション */
.excel-processor-section {
    width: 100%;
}

.excel-processor-content {
    display: flex;
    flex-direction: column;
    gap: 12px;
    max-height: 300px;
}

.folder-select-group {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.folder-select-btn {
    padding: 10px 20px;
    background: #3a3a5a;
    color: #c8c8d8;
    border: 1px solid #4a4a6a;
    cursor: pointer;
    font-size: 12px;
    font-weight: 500;
    transition: all 0.3s;
}

.folder-select-btn:hover {
    background: #4a4a6a;
    color: #d8d8e8;
    border-color: #5a5a7a;
}

.folder-path-display {
    padding: 8px 10px;
    background: #0a0a0a;
    border: 1px solid #3a3a3a;
    color: #a0a0a0;
    font-size: 11px;
    font-family: 'Courier New', monospace;
}

.folder-path-display.selected {
    color: #a0d0a0;
    border-color: #3a5a3a;
}

.file-list-group {
    display: flex;
    flex-direction: column;
    gap: 6px;
    background: #0a0a0a;
    border: 1px solid #3a3a3a;
    padding: 10px;
}

.file-list-item {
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 11px;
}

.file-label {
    color: #b0b0b0;
    min-width: 80px;
    font-weight: 500;
}

.file-name-display {
    color: #d8d8d8;
    font-family: 'Courier New', monospace;
}

.file-name-display.found {
    color: #a0d0a0;
}

.file-name-display.not-found {
    color: #d0a0a0;
}

.excel-download-script-btn {
    flex: 1;
    padding: 10px 20px;
    background: #2a5a7a;
    color: #c8e8f8;
    border: 1px solid #3a6a8a;
    cursor: pointer;
    font-size: 12px;
    font-weight: 600;
    transition: all 0.3s;
    border-radius: 4px;
}

.excel-download-script-btn:hover {
    background: #3a6a8a;
    color: #d8f8ff;
    border-color: #4a7a9a;
    transform: translateY(-1px);
    box-shadow: 0 2px 4px rgba(42, 90, 122, 0.3);
}

.excel-process-btn {
    flex: 1;
    padding: 10px 20px;
    background: #3a4a3a;
    color: #c8d8c8;
    border: 1px solid #4a5a4a;
    cursor: pointer;
    font-size: 12px;
    font-weight: 500;
    transition: all 0.3s;
    border-radius: 4px;
}

.excel-process-btn:hover {
    background: #4a5a4a;
    color: #d8e8d8;
    border-color: #5a6a5a;
}

.excel-process-btn:disabled {
    background: #2a2a2a;
    color: #606060;
    cursor: not-allowed;
    border-color: #3a3a3a;
}

.excel-status {
    padding: 8px;
    background: #0a0a0a;
    border: 1px solid #3a3a3a;
    color: #c8c8c8;
    font-size: 10px;
    min-height: 32px;
    display: flex;
    align-items: center;
}

.excel-status.success {
    background: #1a2a1a;
    border-color: #3a5a3a;
    color: #a0d0a0;
}

.excel-status.error {
    background: #2a1a1a;
    border-color: #5a3a3a;
    color: #d0a0a0;
}

.excel-status.processing {
    background: #1a1a2a;
    border-color: #3a3a5a;
    color: #a0a0d0;
}

/* 業務詳細ポップアップ */
.work-detail-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.7);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10000;
}

.work-detail-modal-content {
    background: #1a1a1a;
    border: 1px solid #3a3a3a;
    border-radius: 4px;
    min-width: 500px;
    max-width: 700px;
    max-height: 80vh;
    display: flex;
    flex-direction: column;
}

.work-detail-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 20px;
    border-bottom: 1px solid #3a3a3a;
}

.work-detail-header h3 {
    color: #d8d8d8;
    font-size: 16px;
    font-weight: 500;
    margin: 0;
}

.close-modal-btn {
    background: transparent;
    border: none;
    color: #a0a0a0;
    font-size: 24px;
    cursor: pointer;
    padding: 0;
    width: 30px;
    height: 30px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
}

.close-modal-btn:hover {
    color: #e0e0e0;
    background: #2a2a2a;
    border-radius: 4px;
}

.work-detail-body {
    padding: 20px;
    overflow-y: auto;
}

.work-detail-summary {
    display: flex;
    gap: 30px;
    margin-bottom: 20px;
    padding: 15px;
    background: #0a0a0a;
    border: 1px solid #3a3a3a;
    border-radius: 4px;
}

.summary-item {
    display: flex;
    flex-direction: column;
    gap: 5px;
}

.summary-label {
    color: #a0a0a0;
    font-size: 11px;
    font-weight: 500;
}

.summary-value {
    color: #d8d8d8;
    font-size: 18px;
    font-weight: 600;
    font-family: 'Courier New', monospace;
}

.work-detail-list {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.work-detail-item {
    background: #232323;
    border: 1px solid #3a3a3a;
    padding: 12px;
    border-radius: 4px;
}

.work-item-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 8px;
}

.work-item-name {
    color: #d8d8d8;
    font-size: 13px;
    font-weight: 500;
}

.work-item-duration {
    color: #a0d0a0;
    font-size: 12px;
    font-family: 'Courier New', monospace;
    font-weight: 600;
}

.work-item-time {
    color: #a0a0a0;
    font-size: 11px;
}

.no-data {
    text-align: center;
    color: #707070;
    padding: 40px;
    font-size: 13px;
}

.calendar-day.has-work {
    position: relative;
}

.calendar-day.has-work::after {
    content: '';
    position: absolute;
    bottom: 2px;
    left: 50%;
    transform: translateX(-50%);
    width: 4px;
    height: 4px;
    background: #a0d0a0;
    border-radius: 50%;
}

/* ========================================
   出荷データ可視化セクション
   ======================================== */

.shipment-chart-section {
    width: 100%;
}

.shipment-chart-content {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

/* CSVファイル選択 */
.csv-select-group {
    display: flex;
    align-items: center;
    gap: 10px;
    flex-wrap: wrap;
}

.csv-label {
    font-size: 12px;
    color: #c0c0c0;
    white-space: nowrap;
}

.csv-path-input {
    flex: 1;
    min-width: 300px;
    padding: 8px 12px;
    font-size: 12px;
    background: #1a1a1a;
    border: 1px solid #3a3a3a;
    color: #d0d0d0;
    border-radius: 4px;
}

.csv-select-btn,
.csv-load-btn {
    padding: 8px 16px;
    font-size: 12px;
    border: 1px solid #3a3a3a;
    background: #2a2a2a;
    color: #d0d0d0;
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.2s;
}

.csv-select-btn:hover,
.csv-load-btn:hover {
    background: #3a3a3a;
    border-color: #4a4a4a;
}

.csv-load-btn {
    background: #3a5a7a;
    border-color: #4a6a8a;
}

.csv-load-btn:hover {
    background: #4a6a8a;
}

/* キャパシティ設定 */
.capacity-settings {
    padding: 15px;
    background: #202020;
    border: 1px solid #3a3a3a;
    border-radius: 4px;
}

.capacity-label {
    display: block;
    font-size: 13px;
    color: #c0c0c0;
    margin-bottom: 10px;
}

.capacity-inputs {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    margin-bottom: 15px;
}

.capacity-input-wrapper {
    display: flex;
    align-items: center;
    gap: 8px;
}

.capacity-input-label {
    font-size: 12px;
    color: #b0b0b0;
    min-width: 80px;
}

.capacity-input {
    width: 70px;
    padding: 6px 10px;
    font-size: 12px;
    background: #1a1a1a;
    border: 1px solid #3a3a3a;
    color: #d0d0d0;
    border-radius: 4px;
}

.capacity-save-btn {
    padding: 8px 16px;
    font-size: 12px;
    border: 1px solid #3a5a3a;
    background: #2a4a2a;
    color: #d0d0d0;
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.2s;
}

.capacity-save-btn:hover {
    background: #3a5a3a;
}

/* ステータス表示 */
.shipment-status {
    padding: 10px 15px;
    font-size: 12px;
    border-radius: 4px;
    border: 1px solid;
}

.shipment-status.info {
    background: #1a2a3a;
    border-color: #2a3a4a;
    color: #7ac0d0;
}

.shipment-status.success {
    background: #1a3a1a;
    border-color: #2a4a2a;
    color: #90d090;
}

.shipment-status.error {
    background: #3a1a1a;
    border-color: #4a2a2a;
    color: #d09090;
}

/* 倉庫タブ */
.warehouse-tabs {
    display: flex;
    gap: 5px;
    border-bottom: 1px solid #3a3a3a;
    padding-bottom: 5px;
}

.warehouse-tab {
    padding: 8px 20px;
    font-size: 12px;
    background: #2a2a2a;
    border: 1px solid #3a3a3a;
    border-bottom: none;
    color: #b0b0b0;
    cursor: pointer;
    border-radius: 4px 4px 0 0;
    transition: all 0.2s;
}

.warehouse-tab:hover {
    background: #3a3a3a;
    color: #d0d0d0;
}

.warehouse-tab.active {
    background: #3a5a7a;
    border-color: #4a6a8a;
    color: #ffffff;
}

/* チャートコントロール */
.chart-controls {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 20px;
    margin-top: 15px;
}

.chart-navigation {
    display: flex;
    align-items: center;
    gap: 10px;
}

.period-label {
    font-size: 13px;
    color: #c0c0c0;
    min-width: 150px;
    text-align: center;
}

/* グラフ */
.chart-and-table {
    display: block;
    margin-top: 15px;
}

.chart-container {
    height: 400px;
    padding: 20px;
    background: #202020;
    border: 1px solid #3a3a3a;
    border-radius: 4px;
    width: 100%;
}

#shipment-chart {
    width: 100% !important;
    height: 100% !important;
}

/* キャパシティ設定モーダル */
.capacity-modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.7);
    z-index: 1000;
    justify-content: center;
    align-items: center;
}

.capacity-modal-content {
    background: #2a2a2a;
    border: 1px solid #4a4a4a;
    border-radius: 8px;
    min-width: 400px;
    max-width: 600px;
    max-height: 80vh;
    display: flex;
    flex-direction: column;
}

.capacity-modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px;
    border-bottom: 1px solid #3a3a3a;
}

.capacity-modal-header h3 {
    margin: 0;
    color: #d0d0d0;
    font-size: 16px;
}

.capacity-modal-body {
    padding: 20px;
    overflow-y: auto;
    flex: 1;
}

.capacity-modal-body .capacity-inputs {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.capacity-modal-footer {
    padding: 15px 20px;
    border-top: 1px solid #3a3a3a;
    display: flex;
    justify-content: flex-end;
}

/* レスポンシブ */
@media (max-width: 1400px) {
    .main-content {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 600px) {
    .horizontal-sections {
        grid-template-columns: 1fr;
    }

    .work-detail-modal-content {
        min-width: 90%;
        max-width: 90%;
    }

    .work-detail-summary {
        flex-direction: column;
        gap: 15px;
    }

    .csv-select-group {
        flex-direction: column;
        align-items: stretch;
    }

    .csv-path-input {
        min-width: 100%;
    }

    .capacity-inputs {
        flex-direction: column;
    }

    .warehouse-tabs {
        flex-wrap: wrap;
    }

    .chart-container {
        height: 300px;
    }

    .chart-controls {
        flex-direction: column;
        align-items: stretch;
    }

    .capacity-modal-content {
        min-width: 90%;
        max-width: 90%;
    }
}
