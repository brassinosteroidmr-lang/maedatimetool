<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>„Ç§„É≥„Éï„Ç©„É°„Éº„Ç∑„Éß„É≥</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- „É°„Ç§„É≥„Ç≥„É≥„ÉÜ„É≥„ÉÑ„Ç®„É™„Ç¢ -->
        <div class="main-content">
            <!-- ‰∏äÊÆµ: ÊôÇË®à„ÉªÁ†ÇÊôÇË®à„ÉªÂÆöÂûãÊñá„Å®Ê•≠ÂãôË®òÈå≤ -->
            <div class="top-section">
                <div class="horizontal-sections">
                    <!-- Â∑¶ÂÅ¥: ÊôÇË®à„ÉªÁ†ÇÊôÇË®à„ÉªÂÆöÂûãÊñá„Ç®„É™„Ç¢ -->
                    <div class="left-column">
                        <!-- ÊôÇË®à„Å®Á†ÇÊôÇË®à„Ç®„É™„Ç¢Ôºà2/3Ôºâ -->
                        <section class="template-section hourglass-section">
                        <div class="time-display-area">
                            <!-- ÊôÇË®à„Å®Êó•‰ªò„ÅÆ‰∏äÈÉ®„Ç®„É™„Ç¢ -->
                            <div class="clock-info-area">
                                <div class="clock-and-settings">
                                    <!-- ÂÖ®Ë®≠ÂÆöÁÆ°ÁêÜ„Éú„Çø„É≥ -->
                                    <div class="settings-management">
                                        <button onclick="exportAllSettings()" class="export-all-btn" title="ÂÖ®Ë®≠ÂÆö„Çí„Éï„Ç°„Ç§„É´„Å´‰øùÂ≠ò">üíæ ÂÖ®Ë®≠ÂÆö‰øùÂ≠ò</button>
                                        <button onclick="importAllSettings()" class="import-all-btn" title="ÂÖ®Ë®≠ÂÆö„Çí„Éï„Ç°„Ç§„É´„Åã„ÇâË™≠Ëæº">üìÇ ÂÖ®Ë®≠ÂÆöË™≠Ëæº</button>
                                        <a href="help.html" target="_blank" rel="noopener noreferrer" class="help-btn" title="‰Ωø„ÅÑÊñπË™¨ÊòéÊõ∏">‚ùì</a>
                                    </div>
                                    <div class="clock-date-group">
                                        <div id="current-date-display" class="date-display-compact"></div>
                                        <div id="digital-time" class="digital-time-compact"></div>
                                    </div>
                                </div>
                            </div>

                            <!-- Á†ÇÊôÇË®à„Çí‰∏¶„Åπ„Çã„Ç®„É™„Ç¢ -->
                            <div class="hourglasses-container">
                                <!-- Âã§ÂãôÊôÇÈñìÁ†ÇÊôÇË®à -->
                                <div class="work-hourglass-wrapper">
                                    <div class="work-time-settings">
                                        <div class="work-time-inputs-compact">
                                            <input type="time" id="work-start-time" value="08:30" class="time-input">
                                            <span>-</span>
                                            <input type="time" id="work-end-time" value="17:30" class="time-input">
                                            <button onclick="updateWorkTimeSettings()" class="time-save-btn">Ë®≠ÂÆö</button>
                                        </div>
                                    </div>
                                    <div class="hourglass-with-time">
                                        <div id="remaining-time" class="remaining-time-overlay">ÊÆã„Çä: 9:00</div>
                                        <div class="hourglass-container" id="hourglass-container">
                            <div class="hourglass">
                                <!-- ‰∏äÈÉ®„Ç≠„É£„Éî„Çø„É´ÔºàÊü±È†≠Ôºâ -->
                                <div class="column-capital top">
                                    <div class="capital-abacus"></div>
                                    <div class="capital-echinus"></div>
                                </div>

                                <!-- ÊîØÊü±ÔºàÂ∑¶Âè≥Ôºâ -->
                                <div class="column-shaft left"></div>
                                <div class="column-shaft right"></div>

                                <!-- ‰∏Ä‰ΩìÂûã„Ç¨„É©„ÇπÂÆπÂô® -->
                                <div class="glass-vessel">
                                    <!-- ‰∏äÈÉ®ÂÜÜÈåêÂÆπÂô® -->
                                    <div class="glass-cone upper-cone">
                                        <div class="glass-shine-upper"></div>
                                        <div class="glass-reflection-upper"></div>
                                        <div id="sand-top" class="sand-content upper-content">
                                            <div class="sand-top-surface"></div>
                                        </div>
                                    </div>

                                    <!-- Ê•µÁ¥∞„ÅÆÈ¶ñÈÉ®ÂàÜ -->
                                    <div class="glass-throat">
                                        <div class="throat-inner-shadow"></div>
                                        <div class="falling-particles"></div>
                                    </div>

                                    <!-- ‰∏ãÈÉ®ÂÜÜÈåêÂÆπÂô® -->
                                    <div class="glass-cone lower-cone">
                                        <div class="glass-shine-lower"></div>
                                        <div class="glass-reflection-lower"></div>
                                        <div id="sand-bottom" class="sand-content lower-content">
                                            <div class="sand-pile-peak"></div>
                                        </div>
                                    </div>
                                </div>

                                <!-- ‰∏ãÈÉ®„Ç≠„É£„Éî„Çø„É´ÔºàÊü±È†≠Ôºâ -->
                                <div class="column-capital bottom">
                                    <div class="capital-echinus"></div>
                                    <div class="capital-abacus"></div>
                                </div>
                                    </div>
                                        </div>
                                        <div id="elapsed-time" class="elapsed-time-overlay">ÁµåÈÅé: 0:00</div>
                                    </div>
                                </div>

                                <!-- „Ç´„Ç¶„É≥„Éà„ÉÄ„Ç¶„É≥Á†ÇÊôÇË®à -->
                                <div class="timer-section">
                                    <div class="timer-controls">
                                        <input type="number" id="countdown-minutes" min="1" max="180" value="5" placeholder="ÂàÜ">
                                        <button onclick="startCountdownTimer()" class="timer-btn">ÈñãÂßã</button>
                                        <button onclick="stopCountdownTimer()" class="timer-btn-stop">ÂÅúÊ≠¢</button>
                                    </div>
                                    <div class="countdown-display" id="countdown-display">5:00</div>
                                    <div class="mini-hourglass-container" id="mini-hourglass-container">
                            <div class="mini-hourglass">
                                <!-- ‰∏äÈÉ®„Ç≠„É£„Éî„Çø„É´ÔºàÊü±È†≠Ôºâ -->
                                <div class="mini-column-capital mini-top">
                                    <div class="mini-capital-abacus"></div>
                                    <div class="mini-capital-echinus"></div>
                                </div>

                                <!-- ÊîØÊü±ÔºàÂ∑¶Âè≥Ôºâ -->
                                <div class="mini-column-shaft mini-left"></div>
                                <div class="mini-column-shaft mini-right"></div>

                                <!-- ‰∏Ä‰ΩìÂûã„Ç¨„É©„ÇπÂÆπÂô® -->
                                <div class="mini-glass-vessel">
                                    <!-- ‰∏äÈÉ®ÂÜÜÈåêÂÆπÂô® -->
                                    <div class="mini-glass-cone mini-upper-cone">
                                        <div class="mini-glass-shine-upper"></div>
                                        <div class="mini-glass-reflection-upper"></div>
                                        <div id="mini-sand-top" class="mini-sand-content mini-upper-content">
                                            <div class="mini-sand-top-surface"></div>
                                        </div>
                                    </div>

                                    <!-- Ê•µÁ¥∞„ÅÆÈ¶ñÈÉ®ÂàÜ -->
                                    <div class="mini-glass-throat">
                                        <div class="mini-throat-inner-shadow"></div>
                                        <div class="mini-falling-particles"></div>
                                    </div>

                                    <!-- ‰∏ãÈÉ®ÂÜÜÈåêÂÆπÂô® -->
                                    <div class="mini-glass-cone mini-lower-cone">
                                        <div class="mini-glass-shine-lower"></div>
                                        <div class="mini-glass-reflection-lower"></div>
                                        <div id="mini-sand-bottom" class="mini-sand-content mini-lower-content">
                                            <div class="mini-sand-pile-peak"></div>
                                        </div>
                                    </div>
                                </div>

                                <!-- ‰∏ãÈÉ®„Ç≠„É£„Éî„Çø„É´ÔºàÊü±È†≠Ôºâ -->
                                <div class="mini-column-capital mini-bottom">
                                    <div class="mini-capital-echinus"></div>
                                    <div class="mini-capital-abacus"></div>
                                </div>
                                    </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        </section>

                        <!-- ÂÆöÂûãÊñá„Çª„ÇØ„Ç∑„Éß„É≥Ôºà1/3Ôºâ -->
                        <section class="template-section template-compact-section">
                            <div class="template-text-section">
                                <div class="template-header">
                                    <h3>ÂÆöÂûãÊñá</h3>
                                    <button onclick="openTemplateSettings()" class="template-settings-btn" title="Ë®≠ÂÆö">‚öô</button>
                                </div>
                                <div id="template-list" class="template-list"></div>
                            </div>
                        </section>
                    </div>

                    <!-- Âè≥ÂÅ¥: Ê•≠ÂãôË®òÈå≤ -->
                    <section class="template-section">
                        <div class="business-record-area">
                        <div class="record-header">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                                <h2 style="margin: 0;">Ê•≠ÂãôË®òÈå≤</h2>
                                <a href="dashboard.html" target="_blank" rel="noopener noreferrer" class="dashboard-link" title="Ê•≠ÂãôÂàÜÊûê„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ">üìä ÂàÜÊûê</a>
                            </div>
                            <div class="record-actions">
                                <button onclick="exportRecordsCSV()" class="export-btn" title="Ê•≠ÂãôË®òÈå≤„ÇíCSVÂá∫Âäõ">CSVÂá∫Âäõ</button>
                                <button onclick="clearRecords()" class="clear-btn" title="Ê•≠ÂãôË®òÈå≤„ÅÆ„ÅøÂâäÈô§">Ë®òÈå≤ÂâäÈô§</button>
                            </div>
                        </div>

                        <!-- „ÇØ„Ç§„ÉÉ„ÇØÊ•≠Âãô„Éú„Çø„É≥ -->
                        <div class="quick-task-buttons" id="quick-task-buttons"></div>

                        <!-- „Ç´„Çπ„Çø„É†„Éú„Çø„É≥ËøΩÂä† -->
                        <div class="add-task-button">
                            <input type="text" id="new-task-button-name" placeholder="Êñ∞„Åó„ÅÑÊ•≠ÂãôÂêç...">
                            <button onclick="addQuickTaskButton()">ËøΩÂä†</button>
                        </div>

                        <!-- ÁèæÂú®„ÅÆ‰ΩúÊ•≠ -->
                        <div id="current-task" class="current-task"></div>

                            <!-- Ë®òÈå≤„É™„Çπ„Éà -->
                            <div id="record-list" class="record-list"></div>
                        </div>
                    </section>
                </div>
            </div>

            <!-- ‰∏ãÊÆµ: „Ç´„É¨„É≥„ÉÄ„Éº -->
            <div class="bottom-section">
                <section class="calendar-section">
                    <div class="calendar-header-section">
                        <div class="calendar-navigation">
                            <h2>„Ç´„É¨„É≥„ÉÄ„Éº</h2>
                            <div class="calendar-nav-buttons">
                                <button onclick="previousMonths()" class="nav-btn">‚óÄ Ââç</button>
                                <button onclick="resetToCurrentMonth()" class="nav-btn">‰ªäÊúà</button>
                                <button onclick="nextMonths()" class="nav-btn">Ê¨° ‚ñ∂</button>
                            </div>
                        </div>
                        <div class="calendar-legend">
                            <div class="legend-item">
                                <div class="legend-indicator work-indicator"></div>
                                <span>Ê•≠ÂãôË®òÈå≤</span>
                            </div>
                        </div>
                        <div class="delivery-calculator">
                            <input type="date" id="calc-order-date" class="calc-input">
                            <label>LT:</label>
                            <input type="number" id="calc-lead-time" value="14" min="1" class="calc-input-number">
                            <button onclick="calculateDelivery()" class="calc-btn">Ë®àÁÆó</button>
                            <div id="calc-results" class="calc-results">
                                <span class="calc-result-item business"><span class="calc-result-label">Âñ∂Ê•≠Êó•</span><span id="calc-result-business" class="calc-result-value">-</span></span>
                                <span class="calc-result-item holiday-aware"><span class="calc-result-label">Á•ùÊó•ËÄÉÊÖÆ</span><span id="calc-result-holiday-aware" class="calc-result-value">-</span></span>
                                <span class="calc-result-item calendar"><span class="calc-result-label">Êö¶Êó•</span><span id="calc-result-calendar" class="calc-result-value">-</span></span>
                            </div>
                        </div>
                    </div>
                    <div id="calendar-container"></div>
                </section>
            </div>
        </div>
    </div>

    <!-- Ê•≠ÂãôË©≥Á¥∞„Éù„ÉÉ„Éó„Ç¢„ÉÉ„Éó -->
    <div id="work-detail-modal" class="work-detail-modal" style="display: none;">
        <div class="work-detail-modal-content">
            <div class="work-detail-header">
                <h3 id="work-detail-date"></h3>
                <button onclick="closeWorkDetailModal()" class="close-modal-btn">√ó</button>
            </div>
            <div class="work-detail-body">
                <div class="work-detail-summary">
                    <div class="summary-item">
                        <span class="summary-label">Á∑è‰ΩúÊ•≠ÊôÇÈñì:</span>
                        <span class="summary-value" id="total-work-time">0ÊôÇÈñì0ÂàÜ</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">Ê•≠Âãô‰ª∂Êï∞:</span>
                        <span class="summary-value" id="work-count">0‰ª∂</span>
                    </div>
                </div>
                <div class="work-detail-list" id="work-detail-list">
                    <p class="no-data">„Åì„ÅÆÊó•„ÅÆÊ•≠ÂãôË®òÈå≤„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì</p>
                </div>
            </div>
        </div>
    </div>



    <!-- SheetJS„É©„Ç§„Éñ„É©„É™ (.xls/.xlsx‰∏°ÂØæÂøú) -->
    <script src="https://cdn.sheetjs.com/xlsx-0.20.3/package/dist/xlsx.full.min.js"></script>
    <script src="app.js"></script>
</body>
</html>
